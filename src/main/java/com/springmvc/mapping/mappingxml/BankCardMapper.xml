<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.springmvc.mapping.BankCardMapper">
  <resultMap id="BaseResultMap" type="com.springmvc.pojo.BankCard">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 23 10:30:19 CST 2019.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="cardCategoryId" jdbcType="VARCHAR" property="cardcategoryid" />
    <result column="tagId" jdbcType="INTEGER" property="tagid" />
    <result column="img" jdbcType="VARCHAR" property="img" />
    <result column="reviewWay" jdbcType="VARCHAR" property="reviewway" />
    <result column="accountWay" jdbcType="VARCHAR" property="accountway" />
    <result column="info" jdbcType="VARCHAR" property="info" />
    <result column="url" jdbcType="VARCHAR" property="url" />
    <result column="status" jdbcType="TINYINT" property="status" />
    <result column="add_time" jdbcType="TIMESTAMP" property="addTime" />
    <result column="statusCode" jdbcType="INTEGER" property="statuscode" />
    <result column="pv" jdbcType="INTEGER" property="pv" />
    <result column="uv" jdbcType="INTEGER" property="uv" />
    <result column="uv_earnings" jdbcType="VARCHAR" property="uvEarnings" />
    <result column="adminId" jdbcType="INTEGER" property="adminid" />
    <result column="click" jdbcType="INTEGER" property="click" />
    <result column="auditFailed" jdbcType="VARCHAR" property="auditfailed" />
    <result column="shortUrl" jdbcType="VARCHAR" property="shorturl" />
    <result column="welfare" jdbcType="VARCHAR" property="welfare" />
  </resultMap>
  <!--
  by
  -->

  <!--查询除精选外的产品-->
  <select id="getBankCard" resultType="com.springmvc.pojo.BankCard">
SELECT b.* FROM `bank_card` b where tagId!=4
  </select>
  <!--分类查询产品-->
  <select id="getBankById" resultType="com.springmvc.pojo.BankCard" parameterType="integer">
SELECT b.* FROM `bank_card` b where tagId!=4 AND cardCategoryId=#{Id}

  </select>
  <select id="getBankadvertisingList" resultType="com.springmvc.pojo.BankCard">
SELECT b.* FROM `bank_card` b where tagId!=4
  </select>

  <!--后台分页查询所有的银行卡接口-->
    <select id="getAllBank" resultType="com.springmvc.pojo.DTO.BankCard2" parameterType="com.springmvc.pojo.DTO.BankCard2">
     SELECT  b.* , (case
      when b.status = 4  then '已上架'
      when b.status = 5  then '保存'
      end )stuteName  FROM  bank_card  b
      <where>
        <if test="title!=null and title!='' ">
          AND  title  LIKE '%${title}%'
        </if>

      </where>
      ORDER BY add_time
    </select>
<!--插入数据-->
  <insert id="insertSelective" parameterType="com.springmvc.pojo.BankCard">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 28 16:35:30 CST 2019.
    -->
    insert into bank_card
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="title != null">
        title,
      </if>
      <if test="cardcategoryid != null">
        cardCategoryId,
      </if>
      <if test="tagid != null">
        tagId,
      </if>
      <if test="img != null">
        img,
      </if>
      <if test="reviewway != null">
        reviewWay,
      </if>
      <if test="accountway != null">
        accountWay,
      </if>
      <if test="info != null">
        info,
      </if>
      <if test="url != null">
        url,
      </if>
      <if test="status != null">
        status,
      </if>
      <if test="addTime != null">
        add_time,
      </if>
      <if test="statuscode != null">
        statusCode,
      </if>
      <if test="pv != null">
        pv,
      </if>
      <if test="uv != null">
        uv,
      </if>
      <if test="uvEarnings != null">
        uv_earnings,
      </if>
      <if test="adminid != null">
        adminId,
      </if>
      <if test="click != null">
        click,
      </if>
      <if test="auditfailed != null">
        auditFailed,
      </if>
      <if test="shorturl != null">
        shortUrl,
      </if>
      <if test="welfare != null">
        welfare,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="title != null">
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="cardcategoryid != null">
        #{cardcategoryid,jdbcType=INTEGER},
      </if>
      <if test="tagid != null">
        #{tagid,jdbcType=INTEGER},
      </if>
      <if test="img != null">
        #{img,jdbcType=VARCHAR},
      </if>
      <if test="reviewway != null">
        #{reviewway,jdbcType=VARCHAR},
      </if>
      <if test="accountway != null">
        #{accountway,jdbcType=VARCHAR},
      </if>
      <if test="info != null">
        #{info,jdbcType=VARCHAR},
      </if>
      <if test="url != null">
        #{url,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        #{status,jdbcType=TINYINT},
      </if>
      <if test="addTime != null">
        #{addTime,jdbcType=TIMESTAMP},
      </if>
      <if test="statuscode != null">
        #{statuscode,jdbcType=INTEGER},
      </if>
      <if test="pv != null">
        #{pv,jdbcType=INTEGER},
      </if>
      <if test="uv != null">
        #{uv,jdbcType=INTEGER},
      </if>
      <if test="uvEarnings != null">
        #{uvEarnings,jdbcType=VARCHAR},
      </if>
      <if test="adminid != null">
        #{adminid,jdbcType=INTEGER},
      </if>
      <if test="click != null">
        #{click,jdbcType=INTEGER},
      </if>
      <if test="auditfailed != null">
        #{auditfailed,jdbcType=VARCHAR},
      </if>
      <if test="shorturl != null">
        #{shorturl,jdbcType=VARCHAR},
      </if>
      <if test="welfare != null">
        #{welfare,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
</mapper>